# 3D графика

Трехмерная графика нашла широкое применение в таких областях как научные расчеты, инженерное проектирование, компьютерное моделирование физических объектов.

Для создания реалистичной модели используются геометрические примитивы (куб, шар, конус и прочие), гладкие и сплайновые поверхности.

Вид поверхности определяется расположенной в пространтсве сеткой опорных точек. Каждой точке пристваивается коэффициент, величина которого определяет степень влияния на часть поверхности, проходящей вблизи точки. От взаимного расположения точек и величины коэффициентов зависит форма и гладкость поверхности в целом.

Деформация объекта обеспечивается перемещением контрольных точек, расположенных вблизи. Каждая контрольная точка связана с ближайшими опорными точками, степень ее влияния на них определяется удаленностью.

Следующий метод называют _сеткой деформации_. Вокруг объекта или его части размещается трехмерная сетка, перемещение любой точки которой вызывает упругую деформацию как самой сетки, так и окруженного объекта.

Еще однин способ построения объектов - _твердотельное моделирование_. Объекты представлены твердыми телами, которые при взаимодействии с другими телами различными способами (объединение, вычитание, слияние и прочие) претерпевают необходимую трансформацию.

Применение сложных математических моделей позволяет имитировать различные физические эффекты: взрывы, дождь, снег, огонь, дым, туман и прочие.

## Упрощенный вид пространственного моделирования объектов

1. Спроектировать и создать виртуальный каркас объекта, наиболее полно соответствующий его реальной форме

2. Спроектировать и создать виртуальные материалы, по физическим свойствам визуализации похожие на реальные

3. Присвоить материалы различным частям поверхности объекта

4. Настроить физические параметры пространства, в котором будет действовать объект, - задать освещение, гравитацию, свойства атмосферы, свойства взаимодействующих объектов и поверхностей

5. Задать траектории движения объектов

6. Рассчитать результирующую последовательность кадров

7. Наложить поверхностные эффекты на итоговый анимационный ролик

Закраска поверхностей осуществляется методами **Гуро (Gouraud)** или **Фонга (Phong)**. В первом случае цвет примитива рассчитывается лишь в его вершинах, а затем линейно интерполируется по поверхности. Во втором случае строится нормаль к объекту в целом, ее вектор интерполируется по поверхности составляющих примитивов и освещение рассчитывается для каждой точки.

Свет, уходящий с поверхности в конкретной точке в сторону наблюдателя, представляет собой сумму компонентов, умноженных на коэффициент, связанный с материалом и цветом поверхности в данной точке. К таковым компонентам относятся:

1. Свет, пришедший с обратной стороны поверхности, то есть преломленный свет (Refracted)

2. Свет, равномерно рассеиваемый поверхностью (Diffuse)

3. Зеркально отраженный свет (Reflected)

4. Блики, то есть отраженный свет источников (Specular)

5. Собственное свечение поверхности (Self Illumination)

После завершения конструирования и визуализации объекта приступают к его оживлению, то есть заданию параметров движения. Компьютерная анимация базируется на ключевых кадрах. В первом кадре объект выставляется в исходное положение. Через определенный промежуток задается новое положение объекта и так далее до конечного положения. Промежуточные значения вычисляет программа по специальному алгоритму. При этом происходит не просто линейная аппроксимация, а плавное изменение положения опорных точек объекта в соответствии с заданными условиями.